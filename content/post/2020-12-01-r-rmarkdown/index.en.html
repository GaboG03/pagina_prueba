---
title: "Scrapping en R"
author: "Gabriel Granda"
date: 2022-06-16T21:13:14-05:00
categories: ["R"]
tags: ["R Markdown", "Web Scrapping", "rvest"]
---



<div id="web-scrapping." class="section level1">
<h1>Web Scrapping.</h1>
<p>En esta publicación explicaremos como realizar web scrapping empleando R. Revisaremos las noticias donde aparece Casabaca.</p>
<p>En primer, lugar es necesario instalar y cargar la siguiente librería:</p>
<pre class="r"><code>install.packages(&#39;rvest&#39;)
library(rvest)</code></pre>
<p>Para establecer la dirección de la página web identificamos un patrón. Además, con read_html() leemos la página web Google News, luego, extraemos la información de DIV, para nuestro caso en particular, extraemos las noticias relacionadas a préstamos en el Ecuador.</p>
<pre class="r"><code>busqueda&lt;- &quot;Casabaca, Ecuador&quot;
news_pag&lt;- &quot;https://news.google.com/&quot;
html_dir&lt;- paste0(news_pag,&quot;search?q=&quot;,gsub(&quot; &quot;,&quot;+&quot;,busqueda),&quot;&amp;hl=es-419&amp;gl=US&amp;ceid=US:es-419&quot;)
google_news&lt;- read_html(html_dir)
noticias&lt;-  html_nodes(google_news,&quot;.ipQwMb&quot;)

not&lt;- html_text(noticias[1:3])
not
## [1] &quot;Autos híbridos: más atractivos en tiempos de gasolina cara&quot;                               
## [2] &quot;Suzuki entrará a competir en Ecuador con su propia red para hacer crecer su participación&quot;
## [3] &quot;Casabaca celebra su 60 aniversario con nueva imagen&quot;</code></pre>
<p>También vamos a extraer el nombre del periódico de donde proviene la noticia y almacenaremos ambos elementos en un data frame.</p>
<p>Primero, la clase para poder extraer el nombre es .wEwyrc</p>
<pre class="r"><code>periodico &lt;-  html_nodes(google_news,&quot;.wEwyrc&quot;) 
periodico &lt;-  html_text(periodico)
periodico &lt;- periodico[1:3]

Noticia &lt;- data.frame(Fuente =periodico, Titular = not )


data.table(Noticia)
##           Fuente
## 1:    expreso.ec
## 2:   El Universo
## 3: Metro Ecuador
##                                                                                      Titular
## 1:                                Autos híbridos: más atractivos en tiempos de gasolina cara
## 2: Suzuki entrará a competir en Ecuador con su propia red para hacer crecer su participación
## 3:                                       Casabaca celebra su 60 aniversario con nueva imagen</code></pre>
</div>
